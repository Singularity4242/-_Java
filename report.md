# 系统分析
## 问题描述
	电子图片管理系统要求我们设计一个能对图片进行管理的应用程序，要求使用图形化界面设计，能够显示.jpg .jpeg .gif .png .bmp等类型的图片，尺寸能够处理从几十k到几m的各种大小图片。且能够支持展示当下电脑的全部文件路径，展示图片缩略图，图片多选功能，图片删除功能，图片复制功能，图片粘贴功能，图片重命名功能，右键菜单，幻灯片播放功能，图片选中和取消选中功能。

## 开发平台及工具介绍
开发语言为Java的FX，集成开发环境为IDEA JDK1.8。Idea强大的代码自动提示，重构，补全功能给我们的开发带来的极大的便利。

## 系统功能分析
**1\ 目录展示功能：**
目录树功能能够显示出电脑的磁盘目录结构，当用户鼠标点击左侧磁盘目录时，程序会对后续操作操作进行分析，若点击到的是一个文件夹，则会通过files的listfiles方法显示所有文件，此外，我们考虑到后续还需要不断对图片进行操作，所以设置显示该文件夹下的所有目录，若点击的是最后一个文件，则显示该文件下的所有图片。

**2\ 图片单击预览功能：**
在图片预览界面，通过点击目录树中对应图片目录后，所选目录中所有的图片（图片格式包括: JPG、.JPEG、.GIF、.PNG、和.BMP）将会在“图片预览”区域以缩略图的形式按一定比例大小展示出来。在预览界面的左下方将会显示出所有图片数量的数目，和所有图片的总大小。同时每张图片的正下方将会展示出图片文件名以及选择按钮（利用 Vbox 布局，上面是 ImageView，下面是Label），选择按钮供后续操作使用。且缩略图中各图片展示位置做到整齐划一，按横向分布排序（利用 FlowPane 布局）。在该区域设计有拖动条（嵌套 ScrollPane 面板），当加载进来的图片数目过多时，可使用拖动条进行灵活阅览。

**3\ 提示信息功能：**
在加载和选择图片的时候，设置统计变量，统计操作的图片数目和大小，再将统计变量通过 Label 标签的 setText 方法显示到界面之中。比如 共计 XX 张图片，总大小 XXX，已选择 XXX 张图片。

**4\ 图片多选功能：**
先按一下ctrl进入多选状态，然后鼠标左键依次选择要选中的图片即可

**5\ 图片右键菜单功能：**
对图片进行右键，会有复制，删除，重命名的功能，通过menuitem实现

**6\ 图片复制功能：**
右键给出菜单后会有复制功能，点击确定后复制该图片，后台用ArrayList存储已经复制了的图片

**7\ 图片粘贴功能：**
粘贴时需要先复制好图片进行粘贴，且不能粘贴在同一目录下，粘贴时将从arraylist中取出复制好的图片信息，通过文件输入输出流写出到对应的目录中，并刷新缓冲区

**8\ 图片重命名**
首先用stage类创建出一个重命名选中框，单击重命名时，通过alert类给出提示是否确认重命名，若检测到确认，则要求用户输出新的文件名，赋值给该文件后刷新缓冲区，关闭stage

**9\ 幻灯片播放功能**
当双击图片时进入幻灯片播放功能，有上一张和下一张图片，以及开始播放和暂停播放功能，还有放大和缩小功能

# 系统设计
## 2.1 系统总体结构设计
  总体结构主要分为三大部分。
      第一部分是目录树的设计。用于显示本地磁盘的目录，为后面的图片操作打下基础
      第二部分是与图片相关的操作。主要完成图片的复制粘贴删除选中等一系列功能，还有显示图片信息等。
      第三部分是幻灯片的设计与缩略图的展示。
## 2.2 各个类描述
controller刷新图片信息

doubleClickImage 幻灯片

Main 函数主体框架

Message 选中目录下的图片信息

picture 判断图片是否是需要的类型

picturepane 预览图片区域框

tdccontroller 将所选文件路径压入栈中

ThumbnailFunction 图片的复制粘贴删除一系列功能

ThumbnailMessage 该张选中图片的详细信息

ThumbnailObject 图片预览形状

ThumbnailStage  显示右侧图片信息框架

TopPane 显示右侧图片

TreeDoucumentary 目录树功能 显示磁盘文件

Windowsize 适配当前设备的分辨率大小
